-- 테이블 목록 확인
   SELECT * FROM tab;
   SELECT * FROM tabs;


-- 컬럼이름 및 타입, NOT NULL 확인
    DESC 테이블명;
         -- 컬럼이름 및 타입, NOT NULL 등을 간단히 확인 가능
    SELECT * FROM cols WHERE table_name = '테이블명';
    SELECT * FROM col WHERE tname = '테이블명';


-- 디폴트 확인
   SELECT * FROM cols WHERE table_name = '테이블명';
           -- data_default 컬럼으로 확인
   SELECT * FROM col WHERE tname = '테이블명';
            -- defaultval 컬럼으로 확인


-- 제약 조건 확인
    SELECT * FROM user_constraints WHERE table_name = '테이블명';
    SELECT * FROM user_cons_columns WHERE table_name = '테이블명';


-- 제약조건 및 제약조건 컬럼 확인
   -- P:PRIMARY KEY, C:NOT NULL 등, U:UNIQUE, R:참조키 등
   -- search_condition : CHECK 제약 조건 확인
    SELECT u1.table_name, column_name, constraint_type, u1.constraint_name, search_condition 
    FROM user_constraints u1
    JOIN user_cons_columns u2  ON u1.constraint_name = u2.constraint_name
    WHERE u1.table_name = UPPER('테이블명');


-- 테이블명이 참조하고 있는 테이블 목록 및 컬럼 출력(부모 테이블 목록 출력)
    SELECT fk.constraint_name, fk.table_name child_table, fc.column_name child_column,
               pk.table_name parent_table, pc.column_name parent_column
    FROM all_constraints fk, all_constraints pk, all_cons_columns fc, all_cons_columns pc
    WHERE fk.r_constraint_name = pk.constraint_name
               AND fk.constraint_name = fc.constraint_name
               AND pk.constraint_name = pc.constraint_name
               AND fk.constraint_type = 'R'
               AND pk.constraint_type = 'P'
               AND fk.table_name = UPPER('테이블명');


-- 자식 테이블 목록 출력
    SELECT fk.owner, fk.constraint_name , fk.table_name 
    FROM all_constraints fk, all_constraints pk 
    WHERE fk.r_constraint_name = pk.constraint_name 
                   AND fk.constraint_type = 'R'
                   AND pk.table_name = UPPER('테이블명')
    ORDER BY fk.table_name;



-- 제약 조건 비활성화
   ALTER  TABLE  테이블명  DISABLE  CONSTRAINT 제약조건이름 CASCADE;


-- 제약 조건 활성화
   ALTER  TABLE  테이블명  ENABLE  CONSTRAINT 제약조건이름;


-- 제약 조건 비활성화 / 활성화 확인
    SELECT * FROM user_constraints WHERE table_name = UPPER('테이블명');
           -- status 컬럼 : DISABLE / ENABLE

